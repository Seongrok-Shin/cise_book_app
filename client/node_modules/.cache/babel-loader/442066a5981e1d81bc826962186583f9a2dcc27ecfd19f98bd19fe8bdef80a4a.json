{"ast":null,"code":"import _defineProperty from\"C:/Users/ssr73/ass1a_worksheet3_answer/cise_book_app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/ssr73/ass1a_worksheet3_answer/cise_book_app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/ssr73/ass1a_worksheet3_answer/cise_book_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useParams,useNavigate}from'react-router-dom';import axios from'axios';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateBookInfo(props){var _useState=useState({title:'',isbn:'',author:'',description:'',published_date:'',publisher:''}),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();useEffect(function(){axios.get(\"http://localhost:8082/api/books/\".concat(id)).then(function(res){setBook({title:res.data.title,isbn:res.data.isbn,author:res.data.author,description:res.data.description,published_date:res.data.published_date,publisher:res.data.publisher});}).catch(function(err){console.log('Error from UpdateBookInfo');});},[id]);var onChange=function onChange(e){setBook(_objectSpread(_objectSpread({},book),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();var data={title:book.title,isbn:book.isbn,author:book.author,description:book.description,published_date:book.published_date,publisher:book.publisher};axios.put(\"http://localhost:8082/api/books/\".concat(id),data).then(function(res){navigate(\"/show-book/\".concat(id));}).catch(function(err){console.log('Error in UpdateBookInfo!');});};return/*#__PURE__*/_jsx(\"div\",{className:\"UpdateBookInfo\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 m-auto\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-outline-warning float-left\",children:\"Show BooK List\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 m-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 text-center\",children:\"Edit Book\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead text-center\",children:\"Update Book's Info\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 m-auto\",children:/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title of the Book\",name:\"title\",className:\"form-control\",value:book.title,onChange:onChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"isbn\",children:\"ISBN\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ISBN\",name:\"isbn\",className:\"form-control\",value:book.isbn,onChange:onChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"Author\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Author\",name:\"author\",className:\"form-control\",value:book.author,onChange:onChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",placeholder:\"Description of the Book\",name:\"description\",className:\"form-control\",value:book.description,onChange:onChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"published_date\",children:\"Published Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Published Date\",name:\"published_date\",className:\"form-control\",value:book.published_date,onChange:onChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"publisher\",children:\"Publisher\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Publisher of the Book\",name:\"publisher\",className:\"form-control\",value:book.publisher,onChange:onChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-info btn-lg btn-block\",children:\"Update Book\"})]})})]})});}export default UpdateBookInfo;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","UpdateBookInfo","props","_useState","title","isbn","author","description","published_date","publisher","_useState2","_slicedToArray","book","setBook","_useParams","id","navigate","get","concat","then","res","data","catch","err","console","log","onChange","e","_objectSpread","_defineProperty","target","name","value","onSubmit","preventDefault","put","className","children","to","noValidate","htmlFor","type","placeholder"],"sources":["C:/Users/ssr73/ass1a_worksheet3_answer/cise_book_app/client/src/components/UpdateBookInfo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../App.css';\r\n\r\nfunction UpdateBookInfo(props) {\r\n    const [book, setBook] = useState({\r\n        title: '',\r\n        isbn: '',\r\n        author: '',\r\n        description: '',\r\n        published_date: '',\r\n        publisher: '',\r\n    });\r\n\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(`http://localhost:8082/api/books/${id}`)\r\n            .then((res) => {\r\n                setBook({\r\n                    title: res.data.title,\r\n                    isbn: res.data.isbn,\r\n                    author: res.data.author,\r\n                    description: res.data.description,\r\n                    published_date: res.data.published_date,\r\n                    publisher: res.data.publisher,\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log('Error from UpdateBookInfo');\r\n            });\r\n    }, [id]);\r\n\r\n    const onChange = (e) => {\r\n        setBook({ ...book, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            title: book.title,\r\n            isbn: book.isbn,\r\n            author: book.author,\r\n            description: book.description,\r\n            published_date: book.published_date,\r\n            publisher: book.publisher,\r\n        };\r\n\r\n        axios\r\n            .put(`http://localhost:8082/api/books/${id}`, data)\r\n            .then((res) => {\r\n                navigate(`/show-book/${id}`);\r\n            })\r\n            .catch((err) => {\r\n                console.log('Error in UpdateBookInfo!');\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className='UpdateBookInfo'>\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    <div className='col-md-8 m-auto'>\r\n                        <br />\r\n                        <Link to='/' className='btn btn-outline-warning float-left'>\r\n                            Show BooK List\r\n                        </Link>\r\n                    </div>\r\n                    <div className='col-md-8 m-auto'>\r\n                        <h1 className='display-4 text-center'>Edit Book</h1>\r\n                        <p className='lead text-center'>Update Book's Info</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='col-md-8 m-auto'>\r\n                    <form noValidate onSubmit={onSubmit}>\r\n                        <div className='form-group'>\r\n                            <label htmlFor='title'>Title</label>\r\n                            <input\r\n                                type='text'\r\n                                placeholder='Title of the Book'\r\n                                name='title'\r\n                                className='form-control'\r\n                                value={book.title}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n                        <br />\r\n\r\n                        <div className='form-group'>\r\n                            <label htmlFor='isbn'>ISBN</label>\r\n                            <input\r\n                                type='text'\r\n                                placeholder='ISBN'\r\n                                name='isbn'\r\n                                className='form-control'\r\n                                value={book.isbn}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n                        <br />\r\n\r\n                        <div className='form-group'>\r\n                            <label htmlFor='author'>Author</label>\r\n                            <input\r\n                                type='text'\r\n                                placeholder='Author'\r\n                                name='author'\r\n                                className='form-control'\r\n                                value={book.author}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n                        <br />\r\n\r\n                        <div className='form-group'>\r\n                            <label htmlFor='description'>Description</label>\r\n                            <textarea\r\n                                type='text'\r\n                                placeholder='Description of the Book'\r\n                                name='description'\r\n                                className='form-control'\r\n                                value={book.description}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n                        <br />\r\n\r\n                        <div className='form-group'>\r\n                            <label htmlFor='published_date'>Published Date</label>\r\n                            <input\r\n                                type='text'\r\n                                placeholder='Published Date'\r\n                                name='published_date'\r\n                                className='form-control'\r\n                                value={book.published_date}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n                        <br />\r\n\r\n                        <div className='form-group'>\r\n                            <label htmlFor='publisher'>Publisher</label>\r\n                            <input\r\n                                type='text'\r\n                                placeholder='Publisher of the Book'\r\n                                name='publisher'\r\n                                className='form-control'\r\n                                value={book.publisher}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n                        <br />\r\n\r\n                        <button\r\n                            type='submit'\r\n                            className='btn btn-outline-info btn-lg btn-block'\r\n                        >\r\n                            Update Book\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UpdateBookInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}